@tailwind base;
@tailwind components;
@tailwind utilities;

/* Arabic Font for Quran Text (fallback when local fonts not used) */
@import url('https://fonts.googleapis.com/css2?family=Amiri+Quran&family=Scheherazade+New:wght@400;700&display=swap');

/* Local Mushaf fonts (offline): public/data/Mushaf files/ */

/* Surah headers & Bismillah - encoded path to avoid 404; fallback in font-family below */
@font-face {
  font-family: 'Surah Names';
  src: url('/data/Mushaf%20files/surah_names.woff') format('woff');
  font-display: swap;
}

/* Quran text: QPC V1 Font - public/data/Mushaf files/QPC V1 Font.woff/ (p1-p604 .woff) */
@font-face {
  font-family: 'QPC V1';
  src: url('/data/Mushaf%20files/QPC%20V1%20Font.woff') format('woff'),
       url('/data/Mushaf%20files/QPC%20V1%20Font.woff/p1.woff') format('woff');
  font-display: swap;
}

/* Mushaf paper theme */
:root {
  --mushaf-paper: #FBF7EF;
  --mushaf-ink: #2d261a;
  --mushaf-accent: #C5A059;
}

/* Dense 15-line grid: percentage padding (4% 7%) so margins scale with screen; flex: 1 + min-height: 0 per line */
.mushaf-lines {
  padding: 4% 7% !important;
  box-sizing: border-box;
  row-gap: 0 !important;
  gap: 0 !important;
  margin: 0 !important;
}

.mushaf-line {
  display: flex;
  flex: 1;
  min-height: 0;
  width: 100%;
  margin: 0 !important;
  direction: rtl;
  justify-content: space-between;
  align-items: center;
}

.mushaf-line-header {
  justify-content: center;
}

.quran-text {
  font-family: 'QPC V1', serif;
  font-size: 3.5vh;
  line-height: 1;
  white-space: nowrap;
}

.mushaf-word {
  white-space: nowrap;
  word-break: keep-all;
  overflow-wrap: normal;
  font-family: 'QPC V1', var(--font-amiri), 'Amiri Quran', serif;
}
/* Interactive word: golden glow on hover, 0.2s ease */
.mushaf-word-interactive {
  cursor: pointer;
  transition: color 0.2s ease, background 0.2s ease, box-shadow 0.2s ease;
}
.mushaf-word-interactive:hover {
  color: #5c4a32;
}
/* Surah header frame: gold/bronze horizontal lines */
.mushaf-header-frame {
  border-top: 1px solid var(--mushaf-accent);
  border-bottom: 1px solid var(--mushaf-accent);
}

/* Dark mode support */
.dark {
  color-scheme: dark;
}

:root {
  --background: #ffffff;
  --foreground: #171717;
  --color-primary: #2E4D32;
  --color-secondary: #C49636;
  --color-accent: #C49636;
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  color: var(--foreground);
  background: var(--background);
  font-family: var(--font-geist-sans), Arial, Helvetica, sans-serif;
  min-height: 100vh;
}

html {
  background: var(--background);
}

@layer base {
  /* Ensure all input fields have black text */
  input[type="text"],
  input[type="email"],
  input[type="password"],
  input[type="number"],
  input[type="tel"],
  input[type="date"],
  input[type="time"],
  input[type="search"],
  input[type="url"],
  input[type="datetime-local"],
  textarea,
  select {
    color: #000000 !important;
  }
  
  /* Ensure all select/dropdown options have black text */
  select option {
    color: #000000 !important;
    background-color: #ffffff;
  }
  
  /* Ensure dropdown/combobox options have black text */
  [role="option"],
  [role="listbox"] [role="option"],
  button[role="option"] {
    color: #000000 !important;
  }
  
  /* Ensure Headless UI Listbox buttons and options have black text */
  [data-headlessui-state] button,
  button[data-headlessui-state],
  button[role="listbox"],
  [role="listbox"] button {
    color: #000000 !important;
  }
  
  /* Ensure all button text in form contexts is black */
  form button:not([type="submit"]):not(.text-white):not(.text-primary):not(.text-secondary) {
    color: #000000 !important;
  }
  
  /* Ensure placeholder text is visible but not black */
  input::placeholder,
  textarea::placeholder {
    color: #000000 !important;
  }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  /* Custom color scheme utilities */
  .bg-primary {
    background-color: var(--color-primary);
  }
  
  .hover\:bg-primary-dark:hover {
    background-color: color-mix(in srgb, var(--color-primary) 90%, black);
  }
  
  .text-primary {
    color: var(--color-primary);
  }
  
  .border-primary {
    border-color: var(--color-primary);
  }
  
  .bg-secondary {
    background-color: var(--color-secondary);
  }
  
  .text-secondary {
    color: var(--color-secondary);
  }
  
  .bg-accent {
    background-color: var(--color-accent);
  }
  
  .text-accent {
    color: var(--color-accent);
  }
}
